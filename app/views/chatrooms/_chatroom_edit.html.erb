<div id="edit_chatroom_modal" class="modal">
  <div class="modal-content">
    <div class="row header teal lighten-2">
      <h4 class="col s8 offset-s2"><i class="material-icons">settings</i> Chatroom Settings</h4>
    </div>
    <%= form_for @chatroom, remote: true, authenticity_token: true, html: { method: :put }, id: 'edit_chatroom', class: 'col s8 offset-s2' do |f| %>
      <div class="row">
        <span class="topic label col s2">Topic </span>
        <div class="input-field inline col s9">
          <%= f.text_field :topic, id: 'topic', class: 'validate' %>
        </div>
      </div>
      <% if @verified %>
        <div class="row privacy">
          <span class="label col s2">Privacy</span>
          <div class="col s9">
            <%= f.radio_button(:public, true) %>
            <%= f.label(:public_true, "Public") %><br />
            <%= f.radio_button(:public, false) %>
            <%= f.label(:public_false, "Private") %>
          </div>
        </div>
      <% end %>
      <% if !@chatroom.public %>
        <div class="row" id="invite_users">
          <span class="label invite col s2">Invite Users</span>
          <div class="input-field col s6">
            <% users_arr = @users.map { |user| [user.username, user.username] unless user == current_user }.compact %>
            <%= select_tag "user[username][]", options_for_select(users_arr), multiple: true %>
          </div>
        </div>
      <% end %>
      <div class="row button">
        <%= f.submit 'Save', class: 'modal-action modal-close wave-green btn-flat col s2 offset-s9', id: 'chatroomEdit_button' %>
      </div>
    <% end %>
  </div>
</div>
